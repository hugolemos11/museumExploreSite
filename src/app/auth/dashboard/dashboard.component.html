<div *ngIf="this.userData.museumId != null; else adminGlobal">
  <div class="container-fluid responsivePaddingX">
    <b class="titlePrimaryColor">Estatisticas Recentes</b>

    <div class="row responsivePaddingX">
      <div class="col-md-6 col-lg-4 mb-2 colDashboard">
        <div class="card cardDashboard shadow">
          <div class="card-body">
            <h5 class="card-title">Total Acumulado</h5>
            <p class="card-text">{{totalGained.toFixed(2)}}€</p>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-4 mb-2 colDashboard">
        <div class="card cardDashboard shadow">
          <div class="card-body">
            <h5 class="card-title">Total Bilhetes Comprados</h5>
            <p class="card-text">{{totalTicketsBought}}</p>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-4 mb-2 colDashboard">
        <div class="card cardDashboard shadow">
          <div class="card-body">
            <h5 class="card-title">Total Obras</h5>
            <p class="card-text">{{totalArtWorks}}</p>
          </div>
        </div>
      </div>
    </div>

    <div class="row mt-5">
      <div class="col responsivePaddingX">
        <canvas id="barCanvas" class="mx-auto" height="300px" width="auto">{{barChart}}</canvas>

        <div class="mt-2">
          <b class="descriptionTitleBlackColor">Bilhetes comprados</b>
          <p class="description">Representação visual por meio de um gráfico de barras que ilustra a quantidade de
            bilhetes adquiridos nos últimos sete dias no museu, oferecendo uma análise visualmente impactante da
            frequência de visitação ao longo desse período.</p>
        </div>

      </div>
      <div class="col responsivePaddingX">

        <canvas id="doughnutCanvas" class="mx-auto" height="300px" width="auto">{{doughnutChart}}</canvas>

        <div class="mt-2">
          <b class="descriptionTitleBlackColor">Tipos de bilhetes comprados</b>
          <p class="description">Representação visual por meio de um gráfico que ilustra a proporção de vendas nos
            últimos sete dias entre os diversos tipos de bilhetes disponíveis no museu.</p>
        </div>

      </div>
    </div>
  </div>

  <div id="obrasRegistadas" class="container-fluid images-container py-3">
    <b class="titleBackgroundColor ms-2 mb-2">Obras Registadas</b>
    <p-carousel [value]="(artWorksData$ | async) ?? []" styleClass="custom-carousel" [numVisible]="5" [numScroll]="1"
      [circular]="false" [autoplayInterval]="0" [responsiveOptions]="responsiveOptions">
      <ng-template let-artwork pTemplate="item">
        <div class="item card">
          <img [src]="artwork.image || './assets/imgs/defaultImage.png'" class="card-img-top" alt="...">
          <div class="card-body position-absolute bottom-0 start-0 end-0 text-white p-2">
            <p class="m-0 labelTitle">{{artwork.name}}</p>
          </div>
        </div>
      </ng-template>
    </p-carousel>
  </div>
</div>

<ng-template #adminGlobal>
  <div class="container-fluid responsivePaddingX">
    <b class="titlePrimaryColor">Estatisticas Recentes</b>

    <div class="row responsivePaddingX">
      <div class="col-md-6 col-lg-4 mb-2 colDashboard">
        <div class="card cardDashboard shadow">
          <div class="card-body">
            <h5 class="card-title">Total Museus</h5>
            <p class="card-text">{{totalMuseums}}</p>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-4 mb-2 colDashboard">
        <div class="card cardDashboard shadow">
          <div class="card-body">
            <h5 class="card-title">Total Bilhetes Comprados</h5>
            <p class="card-text">{{totalTicketsBought}}</p>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-lg-4 mb-2 colDashboard">
        <div class="card cardDashboard shadow">
          <div class="card-body">
            <h5 class="card-title">Total Obras</h5>
            <p class="card-text">{{totalArtWorks}}</p>
          </div>
        </div>
      </div>
    </div>

    <div class="row mt-5">
      <div class="col responsivePaddingX">
        <canvas id="barCanvas" class="mx-auto" height="300px" width="auto">{{barChart}}</canvas>

        <div class="mt-2">
          <b class="descriptionTitleBlackColor">Bilhetes comprados</b>
          <p class="description">Representação visual por meio de um gráfico de barras que ilustra a quantidade de
            bilhetes adquiridos nos últimos sete dias de todos os museus, oferecendo uma análise visualmente impactante
            da frequência de visitação ao longo desse período.</p>
        </div>
      </div>
      <div class="col responsivePaddingX">

        <canvas id="doughnutCanvas" class="mx-auto" height="300px" width="auto">{{doughnutChart}}</canvas>

        <div class="mt-2">
          <b class="descriptionTitleBlackColor">Quantidade de bilhetes comprados</b>
          <p class="description">Representação visual por meio de um gráfico que ilustra a proporção de vendas nos
            últimos sete dias entre os diversos museus.</p>
        </div>
      </div>
    </div>
  </div>

  <div id="museusRegistados" class="container-fluid images-container py-3 mt-3">
    <b class="titleBackgroundColor ms-2 mb-2">Museus Registadas</b>
    <p-carousel [value]="(museumsData$ | async) ?? []" styleClass="custom-carousel" [numVisible]="5" [numScroll]="1"
      [circular]="false" [autoplayInterval]="0" [responsiveOptions]="responsiveOptions">
      <ng-template let-museum pTemplate="item">
        <div class="item card">
          <img [src]="museum.image || './assets/imgs/defaultImage.png'" class="card-img-top" alt="...">
          <div class="card-body position-absolute bottom-0 start-0 end-0 text-white p-2">
            <p class="m-0 labelTitle">{{museum.name}}</p>
          </div>
        </div>
      </ng-template>
    </p-carousel>
  </div>

  <div id="obrasRegistadas" class="container-fluid images-container py-3 mt-3">
    <b class="titleBackgroundColor ms-2 mb-2">Obras Registadas</b>
    <p-carousel [value]="(artWorksData$ | async) ?? []" styleClass="custom-carousel" [numVisible]="5" [numScroll]="1"
      [circular]="false" [autoplayInterval]="0" [responsiveOptions]="responsiveOptions">
      <ng-template let-artWork pTemplate="item">
        <div class="item card">
          <img [src]="artWork.image || './assets/imgs/defaultImage.png'" class="card-img-top" alt="...">
          <div class="card-body position-absolute bottom-0 start-0 end-0 text-white p-2">
            <p class="m-0 labelTitle">{{artWork.name}}</p>
            <div class="card rounded-5 px-2 d-inline-block text-white bg-category">
              <p class="m-0 label">{{getCategoryDescription(artWork.categoryId)}}</p>
            </div>
          </div>
        </div>
      </ng-template>
    </p-carousel>
  </div>
</ng-template>